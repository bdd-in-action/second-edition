{"version":3,"sources":["webpack:///src/app/booking/booking-routing.module.ts","webpack:///src/app/booking/booking.component.html","webpack:///src/app/booking/booking.component.ts","webpack:///src/app/booking/booking.module.ts","webpack:///src/app/shared/services/bookings.service.ts"],"names":["routes","path","component","BookingsRoutingModule","forChild","imports","exports","BookingComponent","bookingService","authService","bookings","email","getLoggedInUser","getUserBookings","toPromise","selector","templateUrl","styleUrls","BookingModule","declarations","BookingsService","http","url","API_URL","get","providedIn"],"mappings":"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","file":"booking-booking-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BookingComponent } from './booking.component';\n\n\nconst routes: Routes = [\n  {\n    path: '', component: BookingComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BookingsRoutingModule { }\n","<div class=\"container\">\n    <div class=\"card\" *ngFor=\"let booking of bookings\">\n        <p>Order number: {{booking.orderNumber}}</p>\n        <small>{{ booking.departureDate | date: 'yyyy-MM-dd, h:mm a' }}</small>\n        <p>Departure: {{ booking.departure.name }}</p>\n        <small>{{ booking.arrivalDate | date: 'yyyy-MM-dd, h:mm a' }}</small>\n        <p>Arrival: {{booking.destination.name}} </p>\n        <p>Class: {{ booking.class }}</p>\n    </div>\n    <h2 *ngIf=\"bookings.length === 0\">No bookings yet</h2>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Flight } from '../search/flight.interface';\nimport { AuthService } from '../shared/services/auth.service';\nimport { BookingsService } from '../shared/services/bookings.service';\n\n@Component({\n  selector: 'app-booking',\n  templateUrl: './booking.component.html',\n  styleUrls: ['./booking.component.scss']\n})\nexport class BookingComponent implements OnInit {\n\n  bookings: Flight[] = [];\n\n  constructor(\n    private bookingService: BookingsService,\n    private authService: AuthService\n  ) { }\n\n  async ngOnInit() {\n    const email = this.authService.getLoggedInUser().email;\n    this.bookings = await this.bookingService.getUserBookings(email).toPromise();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BookingComponent } from './booking.component';\nimport { BookingsRoutingModule } from './booking-routing.module';\n\n@NgModule({\n  declarations: [BookingComponent],\n  imports: [\n    CommonModule,\n    BookingsRoutingModule\n  ]\n})\nexport class BookingModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Flight } from 'src/app/search/flight.interface';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BookingsService {\n\n  url = `${environment.API_URL}/api/bookings`;\n\n  constructor(private http: HttpClient) { }\n\n  getUserBookings(email: string): Observable<Flight[]> {\n    return this.http.get<Flight[]>(`${this.url}?email=${email}`);\n  }\n\n}\n"]}